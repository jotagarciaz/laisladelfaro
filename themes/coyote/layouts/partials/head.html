<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>

{{ template "_internal/google_analytics.html" . }}

<title>{{ if not .IsHome }}{{ if .Title }}{{ .Title }} - {{ end }}{{ end }}{{ .Site.Title }}</title>

{{ $sass := resources.Get "scss/style.scss" }}
{{ $style := $sass | css.Sass | minify | resources.Fingerprint "sha256" }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">

{{- if (eq .Layout "search") }}
  {{ $fusejs := resources.Get "js/fuse.basic.min.js" }}
  {{ $search := resources.Get "js/search.js" }}
  {{ $js := slice $fusejs $search | resources.Concat "js/bundle.js" | resources.Fingerprint "sha512" }}
  <script defer type="text/javascript" src="{{ $js.Permalink }}" integrity="{{ $js.Data.Integrity }}"></script>
{{- end }}

<link rel="canonical" href="{{ .Permalink }}" />
<meta name="description" content="{{ if .Params.Description }}{{ .Params.Description }}{{ else }}{{ .Site.Params.Description }}{{ end }}">
{{ if .Params.Keywords }}
  <meta name="keywords" content="{{ delimit .Params.Keywords ", " }}">
{{ end }}
<meta name="author" content="{{ .Site.Author.name }}">

<meta property="og:title" content="{{ .Title }}">
<meta property="og:description" content="{{ .Summary }}">
<meta property="og:image" content="{{ .Params.image }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ .Title }}">
<meta name="twitter:description" content="{{ .Summary }}">
<meta name="twitter:image" content="{{ .Params.image }}">

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "{{ .Title }}",
    "image": "{{ .Params.image }}",
    "author": {
      "@type": "Person",
      "name": "{{ .Site.Author.name }}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ .Site.Title }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ .Site.Params.logo }}"
      }
    },
    "datePublished": "{{ .Date }}"
  }
  </script>
  